<apex:page standardController="Account" extensions="ashokHierarchyControll" sidebar="false">
<apex:form >
 <apex:PageBlock >
     <apex:pageBlockSection columns="1">
         <apex:pageBlockTable var="acc" value="{!Account}" >          
         <apex:column headerValue="Corporate Account Name">
         
         <apex:outputLink value="/{!acc.Id}">{!acc.Name}</apex:outputLink>
         </apex:column>
             <apex:column value="{!AccSiteList.size}" headerValue="Site Count"/>
             <apex:column value="{!ProjSiteList.size}" headerValue="Project Count"/>
             <apex:column value="{!prjStgWon}" headerValue="Projects Won"/>
             <apex:column value="{!prjStgPrg}" headerValue="Projects In Progress"/>
             <apex:column value="{!prjStgQtd}" headerValue="Project Quoted"/>
            <!-- <apex:column value="{!siz}" headerValue="Project Count"/> -->
             <apex:column value="{!prjWon}" headerValue="Projects Won"/>
             <apex:column headerValue="Closure">
                 <apex:outputText value="{0,Number,0}%"><apex:param value="{!(100*prjWon)/IF(ProjSiteList.size == 0, 1, ProjSiteList.size)}" /></apex:outputText> 
            </apex:column> -->
            <apex:column headerValue="
             Quoted (Total)">
                 <apex:outputText value="{0, Number, Currency}"><apex:param value="{!totalAmount}" /></apex:outputText> 
            </apex:column>
            <apex:column headerValue="Amount (Won)">
                 <apex:outputText value="{0, Number, Currency}"><apex:param value="{!prjStgWonAmt}" /></apex:outputText> 
            </apex:column>
            <apex:column headerValue="Amount (In Progress)">
                 <apex:outputText value="{0, Number, Currency}"><apex:param value="{!prjStgPrgAmt}" /></apex:outputText> 
            </apex:column>
            <apex:column headerValue="Amount (Quoted)">
                 <apex:outputText value="{0, Number, Currency}"><apex:param value="{!prjStgQtdAmt}" /></apex:outputText> 
            </apex:column>
            <apex:column headerValue="Amount Won">
                 <apex:outputText value="{0, Number, Currency}"><apex:param value="{!amountWon}" /></apex:outputText> 
            </apex:column>
         </apex:pageBlockTable>
     </apex:pageBlockSection>
   </apex:pageBlock>
    <apex:pageBlock >   
   <apex:panelgrid columns="2">
       <apex:selectList value="{!selectedField }" size="1">
        <apex:selectOption itemValue="account.Name" itemLabel="Corporate Account Site Location (End Customer)"/>
        <apex:selectOption itemValue="accountName.Name" itemLabel="Site Name"/>
        <apex:selectOption itemValue="projectName.Name" itemLabel="Corporate Account Site Location (End Customer)"/>
        <apex:selectOption itemValue="amount__C" itemLabel="Amount"/>
        <apex:selectOption itemValue="RecordType.Name" itemLabel="Record Type"/>
        <apex:selectOption itemValue="Application__c" itemLabel="Application Industry"/>
        <apex:selectOption itemValue="architect" itemLabel="architect"/>
        <apex:selectOption itemValue="purchaser" itemLabel="Purchaser Account"/>
        <apex:selectOption itemValue="orderingAccount" itemLabel="Ordering Account"/>
        <apex:selectOption itemValue="Project_City__c" itemLabel="Project City"/>
        <apex:selectOption itemValue="Project_State__c" itemLabel="Project State"/>
        <apex:selectOption itemValue="Project_Zip_Code__c" itemLabel="Project ZipCode"/>
        <apex:selectOption itemValue="stage__c" itemLabel="stage "/>            
    </apex:selectList>
    <apex:commandButton value="Sort Table" action="{!sortMethod}" reRender="pgblcktbl"/>
   </apex:panelgrid>
  </apex:pageBlock>
   <apex:pageBlock id="pgblcktbl">
   <apex:pageblocktable value="{!accList1}" var="pr" >
   <apex:column value="{!account.name}"/>
    <apex:column value="{!pr.name}"/>        
     <apex:column value="{!pr.Amount__c}"/>
     <apex:column value="{!pr.Stage__c}"/>
     <apex:column value="{!pr.Application__c}"/>
      <apex:column value="{!pr.Project_City__c}"/>
       <apex:column value="{!pr.Project_State__c}"/>
        <apex:column value="{!pr.Project_Zip_Code__c}"/> 
        <apex:column value="{!  pr.Purchaser_Account__c}"/>       
         <apex:column value="{!  pr.Ordering_Account__c}"/>         
     </apex:pageblocktable>
  </apex:pageBlock>  
  </apex:form>   
</apex:page>